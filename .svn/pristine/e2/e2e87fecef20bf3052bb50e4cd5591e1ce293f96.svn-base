<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Magic FinMart</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.metroui.org.ua/v4/css/metro-all.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="bootstrap/css/custom.css" rel="stylesheet">
    <script src="bootstrap/js/awesomplete.js"></script>
    <link rel="stylesheet" href="https://leaverou.github.io/awesomplete/awesomplete.css" />
    <style>
        .awesomplete {
            display: block;
        }

            .awesomplete span {
                display: none;
            }
    </style>
</head>
<body onload="cities();myEditFunc();">
    <div class="container-fluid healthmaindiv">
        <ul class="navigation">
            <li class="Active"><a href="#">INPUT</a></li>
            <li><a href="health_quote.html">QUOTE</a></li>
            <li><a href="#">BUY</a></li>
        </ul>

        <div class="app-content">
            <h5 class="memtype_cover">WHO DO YOU WANT TO COVER?</h5>
            <div class="membertype">
                <div id="member_self">self</div>
                <div id="member_family">family</div>
                <div class="disabledbutton">parents</div>
            </div>
            <h5 class="text-center" style="margin:0px;">NO. OF MEMBERS</h5>
            <div class="member-content">
                <div id="mem_1" class="member_section">
                    <img class="img-responsive" src="images/mipmap-hdpi/user_unselected.png">
                    <input type="text" placeholder="age" id="mem_1_input" maxlength="2" disabled>
                    <input type="hidden" id="gen_1_input" maxlength="1">
                </div>
                <div id="mem_2" class="member_section">
                    <img class="img-responsive" src="images/mipmap-hdpi/user_unselected.png">
                    <input type="text" placeholder="age" id="mem_2_input" maxlength="2" disabled>
                    <input type="hidden" id="gen_2_input" maxlength="1">
                </div>
                <div id="mem_3" class="member_section">
                    <img class="img-responsive" src="images/mipmap-hdpi/user_unselected.png">
                    <input type="text" placeholder="age" id="mem_3_input" maxlength="2" disabled>
                    <input type="hidden" id="gen_3_input" maxlength="1">
                </div>
                <div id="mem_4" class="member_section">
                    <img class="img-responsive" src="images/mipmap-hdpi/user_unselected.png">
                    <input type="text" placeholder="age" id="mem_4_input" maxlength="2" disabled>
                    <input type="hidden" id="gen_4_input" maxlength="1">
                </div>
                <div id="mem_5" class="member_section">
                    <img class="img-responsive" src="images/mipmap-hdpi/user_unselected.png">
                    <input type="text" placeholder="age" id="mem_5_input" maxlength="2" disabled>
                    <input type="hidden" id="gen_5_input" maxlength="1">
                </div>
                <div id="mem_6" class="member_section">
                    <img class="img-responsive" src="images/mipmap-hdpi/user_unselected.png">
                    <input type="text" placeholder="age" id="mem_6_input" maxlength="2" disabled>
                    <input type="hidden" id="gen_6_input" maxlength="1">
                </div>
            </div>
            <div class="age-box">
                <div class="suminsuTitle">
                    <span class="cancelbtn" onclick="$('.age-box').hide(clearinfo());">&times</span>
                    <h5 id="ageboxtitle"></h5>
                </div>
                </br></br>
                <div class="dob">
                    <span>DATE OF BIRTH</span>
                    <div>
                        <input type="text" data-role="datepicker" id="birth_date" data-day="false">
                    </div>
                    <div class="gender">
                        <span>GENDER:</span>
                        <div id="Gendermale">MALE</div>
                        <div id="Genderfemale">FEMALE</div>
                    </div>
                    <div class="nav_cursor">
                        <span class="btnLeft"><i class="fa fa-chevron-left" aria-hidden="true"></i></span>
                        <span class="btnRight"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
                    </div>
                    <div class="groupbtn">
                        <div class="btn btn-info" onclick="chkDetails()">DONE</div>
                        <div class="btn btn-info" onclick="clearinfo()">CLEAR</div>
                    </div>
                </div>
            </div>
            <div class="">
            </div>
            <h5 class="text-center" style="margin:0px;">COVER REQUIRED</h5>
            <!--<div class="coverPanel">
               <button class="btn btn-cover Active" value="100000" >1 LAC</button>
               <button class="btn btn-cover" value="300000">3 LACS</button>
               <button class="btn btn-cover" value="500000">5 LACS</button>
               <button class="btn btn-cover" value="1000000">10 LACS</button>
               <button class="btn btn-cover" value="1500000">15 LACS</button>
               <button class="btn btn-cover" value="2000000">20 LACS</button>
               <button class="btn btn-cover" value="2500000">25 LACS</button>
               <button class="btn btn-cover" value="3000000">30 LACS</button>
               <button class="btn btn-cover" value="3500000">35 LACS</button>
               <button class="btn btn-cover " value="4000000">40 LACS</button>
               <button class="btn btn-cover" value="4500000">45 LACS</button>
               <button class="btn btn-cover" value="5000000">50 LACS</button>
               <button class="btn btn-cover" value="10000000">100 LACS</button>
               <button class="btn btn-cover" id="more">MORE +  </button>
            </div>-->
            <div class="coverPanel">
                <button class="btn btn-cover" value="100000">1 LAC</button>
                <button class="btn btn-cover" value="500000">5 LACS</button>
                <button class="btn btn-cover" value="1000000">10 LACS</button>
                <button class="btn btn-cover Active MoreBtn" id="more">MORE +  </button>
            </div>
            <!-- <button class="btn btn-cover MoreBtn" id="more">MORE +  </button> -->
            <div class="coverPanel MoreInsurer">
                <div class="suminsuTitle">
                    Sum Insured
                    <span class="cancelbtn" onclick="$('.MoreInsurer').hide(clearinfo());">&times</span>
                </div></br>
                <button class="btn btn-cover valueSelect" value="200000">2 LACS</button>
                <button class="btn btn-cover valueSelect" value="300000">3 LACS</button>
                <button class="btn btn-cover valueSelect" value="400000">4 LACS</button>
                <button class="btn btn-cover valueSelect" value="600000">6 LACS</button>
                <button class="btn btn-cover valueSelect" value="700000">7 LACS</button>
                <button class="btn btn-cover valueSelect" value="770000">7.7 LACS</button>
                <button class="btn btn-cover valueSelect" value="800000">8 LACS</button>
                <button class="btn btn-cover valueSelect" value="900000">9 LACS</button>
                <button class="btn btn-cover valueSelect" value="1000000">10 LACS</button>
                <button class="btn btn-cover valueSelect" value="1100000">11 LACS</button>
                <button class="btn btn-cover valueSelect" value="1200000">12 LACS</button>
                <button class="btn btn-cover valueSelect" value="1300000">13 LACS</button>
                <button class="btn btn-cover valueSelect" value="1400000">14 LACS</button>
                <button class="btn btn-cover valueSelect" value="1500000">15 LACS</button>
                <button class="btn btn-cover valueSelect" value="2000000">20 LACS</button>
                <button class="btn btn-cover valueSelect" value="2500000">25 LACS</button>
                <button class="btn btn-cover valueSelect" value="3000000">30 LACS</button>
                <button class="btn btn-cover valueSelect" value="3500000">35 LACS</button>
                <button class="btn btn-cover valueSelect" value="4000000">40 LACS</button>
                <button class="btn btn-cover valueSelect" value="4500000">45 LACS</button>
                <button class="btn btn-cover valueSelect" value="5000000">50 LACS</button>
                <button class="btn btn-cover valueSelect" value="5500000">55 LACS</button>
                <button class="btn btn-cover valueSelect" value="6000000">60 LACS</button>
            </div>




            <div style="display: none;">

                <h5 class="text-center">TENURE</h5>
                <div class="tenure_panel">

                    <div>1 YEAR</div>
                    <div>2 YEAR</div>
                    <div>3 YEAR</div>

                </div>

            </div>
            <form name="myForm" action="">
                <div class="infoPanel">
                    <div class="col-xs-6">
                        <label class="label">
                            CUSTOMER NAME
                            <input type="text" id="Name">
                        </label>
                    </div>
                    <div class="col-xs-6">
                        <label class="label">
                            AMOUNT
                            <input type="number" id="Amount">
                        </label>
                    </div>
                    <div class="col-xs-6">
                        <label class="label">
                            City
                            <input type="text" id="City" required>
                            <input type="hidden" id="hdCity_ID">
                        </label>
                    </div>
                    <div class="col-xs-6">
                        <label class="label">
                            MOBILE
                            <input type="number" id="Mobile" onKeyPress="if(this.value.length==10) return false;">
                        </label>
                    </div>
                </div>
                <div class="btn btn-block btn-custom footerbtn" id="loadingbtn"><a href="#" onclick="validateForm()">GET QUOTES</a></div>
            </form>
        </div>
    </div>

    <div class="warningmsg">
        <h3 style="text-align:center;color:red;"><u>Error</u></h3>
        <h3 style="text-align:center;">ss_id , fba_id ,ip_address , app_version is mandatory</h3>
    </div>



    <script type="text/javascript">

        var getStart = function () {
            //validateForm();
            var srn = "";
            var mainUrl = "quote/premium_initiate";
            var ss_id = getParameterByName('ss_id');
            if (ss_id == null || ss_id == "") {
                ss_id = 0;
            }
            var fba_id = getParameterByName('fba_id');
            if (fba_id == null || fba_id == '') {
                fba_id = 0;
            }
            var ip_address = getParameterByName('ip_address');
            if (ip_address == null || ip_address == '') {
                ip_address = 0;
            }
            var mac_address = getParameterByName('mac_address');
            if (mac_address == null || mac_address == '') {
                mac_address = 0;
            }
            var app_version = getParameterByName('app_version');
            if (app_version == null || app_version == '') {
                app_version = 0;
            }

            var member_count = 0;
            var adult_count = 0;
            var child_count = 0;
            for (var i = 1; i <= 6; i++) {
                if ($('#mem_' + i + '_input').val() != "") {
                    member_count++;

                }
                if ($('#mem_' + i + '_input').val() > 18) {

                    adult_count++;
                } else if (($('#mem_' + i + '_input').val() < 18 && $('#mem_' + i + '_input').val() != "")) {

                    child_count++;
                }

            }

            var str = {
                "city_id": document.getElementById("hdCity_ID").value,
                "city_name": document.getElementById("City").value,
                "health_insurance_si": document.getElementById("Amount").value,
                "adult_count": adult_count,
                "child_count": child_count,
                "member_1_age": document.getElementById("mem_1_input").value,
                "member_2_age": document.getElementById("mem_2_input").value,
                "member_3_age": document.getElementById("mem_3_input").value,
                "member_4_age": document.getElementById("mem_4_input").value,
                "member_5_age": document.getElementById("mem_5_input").value,
                "member_6_age": document.getElementById("mem_6_input").value,
                "member_1_gender": $("#gen_1_input").val(),
                "member_2_gender": $("#gen_2_input").val(),
                "member_3_gender": $("#gen_3_input").val(),
                "member_4_gender": $("#gen_4_input").val(),
                "member_5_gender": $("#gen_5_input").val(),
                "member_6_gender": $("#gen_6_input").val(),

                "contact_name": document.getElementById("Name").value,
                "mobile": document.getElementById("Mobile").value,
                "email": "anujsingh2511@gmail.com",
                "product_id": 2,
                "policy_tenure": 1,
                "method_type": "Premium",
                "health_insurance_type": member_count > 1 ? "floater" : "individual",
                "execution_async": "yes",
                "crn": 0,
                "ss_id": ss_id,
                "agent_source": "0",
                "secret_key": "SECRET-HZ07QRWY-JIBT-XRMQ-ZP95-J0RWP3DYRACW",
                "client_key": "CLIENT-CNTP6NYE-CU9N-DUZW-CSPI-SH1IS4DOVHB9",
                "fba_id": fba_id,
                "ip_address": ip_address,
                "geo_lat": 19.0808064,
                "geo_long": 72.892416,
                "app_version": app_version
            };
            console.log(JSON.stringify(str));

            var returnurl = GetUrl() + '/' + mainUrl;
            //alert(returnurl);
            $.ajax({
                type: "POST",
                data: JSON.stringify(str),
                url: returnurl,
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {
                    console.log(data);
                    srn = data['Summary']['Request_Unique_Id'];
                    //alert(srn);
                    window.location.href = './health_quote.html?srn=' + srn + '&client_id=2';

                    //alert("success");
                },
                error: function (result) {
                    //alert("Error");
                }
            });
            $("#loadingbtn").html('Getting Quote . . .');
        }

        var GetUrl = function () {
            var url = window.location.href;
            //alert(url.includes("health"));
            var newurl;
            newurl = "http://qa-horizon.policyboss.com:3000";
            if (url.includes("localhost")) {
                newurl = "http://localhost:3000";
            } else if (url.includes("qa")) {
                newurl = "http://qa-horizon.policyboss.com:3000";
            } else if (url.includes("www") || url.includes("cloudfront")) {
                newurl = "http://horizon.policyboss.com:5000";
            }
            return newurl;
        }
        var getParameterByName = function (name) {
            var url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
			results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        var stringparam = function () {
            var arr = ["ss_id", "fba_id", "ip_address", "app_version"];
            for (var i = 0; i < arr.length; i++) {
                var qs_val = getParameterByName(arr[i]);
                var fba_id = getParameterByName('fba_id');
                var ip_address = getParameterByName('ip_address');
                var app_version = getParameterByName('app_version');
                if (qs_val == null || qs_val == '' || qs_val == '0') {
                    $(".healthmaindiv").hide();
                    $(".warningmsg").show();
                }
                else {
                    $(".healthmaindiv").show();
                    $(".warningmsg").hide();
                }
            }
        }

        var cityName = [];
        var cityID = [];
        var cities = function (input) {
            var mainUrl = "cities/list";
            var returnurlcity = GetUrl() + '/' + mainUrl;
            //alert(returnurlcity);
            $.ajax({
                type: "GET",
                url: returnurlcity,
                dataType: "json",
                success: function (data) {
                    console.log(data);
                    for (var i = 0; i < data.length; i++) {
                        cityName.push({ label: data[i]["City_Name"] + "( " + data[i]["State_Name"] + ')', value: data[i]["City_ID"] });
                    }
                    awesomplete.list = cityName;
                },
                error: function (result) {
                    //alert("city Error");
                }
            });
            stringparam();
        }

        var input = document.getElementById("City");
        var awesomplete = new Awesomplete(input, {
            minChars: 1,
            autoFirst: true,
            maxItems: 10,
            replace: function (suggestion) {
                console.log('suggestion', suggestion);
                this.input.value = suggestion.label;
                document.getElementById('hdCity_ID').value = suggestion.value;
                document.getElementById('City').value = suggestion.label;
            }
        });
        var validateForm = function () {
            var name = document.forms["myForm"]["Name"];
            var amount = document.forms["myForm"]["Amount"];
            var city = document.forms["myForm"]["City"];
            var phone = document.forms["myForm"]["Mobile"];

            if (name.length == 0 || !name.value.match(/^[a-zA-Z ]+$/)) {
                window.alert("Please enter your valid name.");
                name.focus();
                return false;
            }

            if (amount.value == "") {
                window.alert("Please enter your amount.");
                amount.focus();
                return false;
            }

            if (city.value == "") {
                window.alert("Please Select your City.");
                city.focus();
                return false;
            }

            if (phone.value == '' || !phone.value.match(/^[7-9]{1}[0-9]{9}$/)) {
                window.alert("Please enter your valid mobile number.");
                phone.focus();
                return false;
            }
            getStart();
            //return true;
        }
    </script>

    <script>
        var memID, memberInp, age_val, gendertype, memType;

        $(document).ready(function () {
            var log = console.log;

            $(".membertype div").click(function (e) {

                if ($(this).hasClass("Active")) {
                    return true;
                } else {
                    $(".membertype div").removeClass("Active");
                    $(this).addClass("Active");
                    memType = e.currentTarget.innerHTML;
                    if (memType == "self") {
                        member = 1;
                        log(member);
                        $('.age-box').hide(clearinfo());
                        $(".age-box .nav_cursor").css("display", "none");
                    } else if (memType == "family") {
                        member = 6;
                        log(member);
                        $('.age-box').hide(clearinfo());
                        $(".age-box .nav_cursor").css("display", "block");
                    } else if (memType == "parents") {
                        member = 3;
                        log(member);
                        $('.age-box').hide(clearinfo());
                    }
                    log(memType);
                    $(".member-content input").val('');
                }

                $(".member-content div input").removeAttr('readonly').attr({
                    disabled: 'true',
                    value: ""
                });

                $(".member-content div img").attr("src", "images/mipmap-hdpi/user_unselected.png");
                for (i = 1; i <= 6; i++) {
                    if (i <= member) {
                        var memID = "#" + $(".member-content div:nth-child(" + i + ")").attr("id");
                        $(memID + " img").attr("src", "images/mipmap-hdpi/user_unselected.png");
                        $(memID + "_input").removeAttr('disabled').attr('readonly', 'true');
                    } else {
                        var memID = "#" + $(".member-content div:nth-child(" + i + ")").attr("id");
                        $(memID + " img").attr("src", "images/mipmap-hdpi/user_unselected.png");
                    }
                }
            });

            $(".member-content input").click(function (e) {

                if ($('.age-box').is(':visible')) {

                    chkDetails();
                } else {

                    memID = $(this).attr("id").split('_')[1];
                    if ($("#mem_" + memID + " input").attr('disabled') != 'disabled') {
                        $('#ageboxtitle').html('ENTER THE AGE &amp; GENDER OF MEMBER ' + memID);
                        $('.age-box').show();
                        $('.gender div').removeClass("Active");
                        console.log(this);
                    } else {
                        $("#mem_" + memID + " input").attr('disabled') == 'disabled';
                        $('.age-box').hide();
                    }
                }
            });
            ///////////////////////////////////////////////////////////////
            $(".btnRight").click(function (e) {
                if (memID >= 1 && memID <= 6) {
                    if (chkDetails() == true) {
                    } else {

                        var nxtmem = parseInt(memID) + 1;
                        $('#mem_' + nxtmem + " input").trigger("click");

                    }
                }
            });

            $(".btnLeft").click(function (e) {
                if (memID >= 1 && memID <= 6) {
                    if (chkDetails() == true) {


                    } else {

                        var prevmem = parseInt(memID) - 1;
                        $('#mem_' + prevmem + " input").trigger("click");
                    }
                }
            });

            //////////////////////////////////////////////////////////////
            $(".coverPanel button").click(function (e) {
                if ($(this).hasClass("Active")) {
                    console.log("allready selected");
                } else {
                    $(".coverPanel button").removeClass("Active");
                    $(this).addClass("Active");
                }

                var coverPanel_val = parseInt($(this).attr("value"));
                $("#Amount").val(coverPanel_val)
            });


            $(".MoreBtn").click(function (e) {
                $('.MoreInsurer').toggle();
            });
            $(".valueSelect").click(function () {
                $('.MoreInsurer').toggle();
            });

            $('.membertype div:contains("self")').trigger('click');

            $(".gender div").click(function (e) {
                $(".gender div").removeClass("Active");
                $(this).addClass("Active");
                var gendertype = e.currentTarget.innerHTML;
                console.log(gendertype);

                if (!$(this).hasClass("Active")) {
                    $("gender").css("border", "red");
                } else {
                    if (gendertype == "MALE") {

                        $("#mem_" + memID + " img").attr("src", "images/mipmap-hdpi/men_selected.png");
                        $("#gen_" + memID + "_input").val('M');
                        //console.log(memID);
                    } else if (gendertype == "FEMALE") {
                        $("#mem_" + memID + " img").attr("src", "images/mipmap-hdpi/women_selected.png");
                        $("#gen_" + memID + "_input").val('F');
                    }
                }
            });

            $('.tenure_panel div:contains("1 YEAR")').trigger("click");
            $(".tenure_panel div").click(function (e) {
                var tenure_period = $(this).text().split(" ")[0];

                if ($(this).hasClass("Active")) {
                    console.log(tenure_period);
                } else {
                    console.log(tenure_period);
                    $(".tenure_panel div").removeClass("Active");
                    $(this).addClass("Active");
                }
            })

            $(".infoPanel input").click(function (e) {
                //console.log($("#mem_1_input").val());
                if ($("#mem_1_input").val() == "") {
                    alert("Please Add Age!!!");
                }
            });
            $(function () {
                createSticky($(".navigation"));
            });

            function createSticky(sticky) {
                if (typeof sticky !== "undefined") {
                    var pos = sticky.offset().top + 100,
                        win = $(window);
                    win.on("scroll", function () {
                        win.scrollTop() >= pos ? sticky.addClass("fixed") : sticky.removeClass("fixed");
                    });
                }
            }

            //$("#more").trigger("click");
            //$(".btn-cover:nth-child(n+4)").not( "#more" ).hide();
            //$("#more").click(function(e){

            //$(".btn-cover:nth-child(n+4)").not( this ).toggle();
            //log($('.btn-cover:nth-child(6)').is(':visible'));
            //($('.btn-cover:nth-child(5)').is(':visible') ? $(this).text("LESS -") :  $(this).text ("MORE +"))
            //log($('.btn-cover:nth-child(6)').is(':hidden') ? 'hidden' : 'visible');

            //})

            $("#birth_date").on("change", function () {
                var dt = new Date();
                var currentYear = dt.getFullYear();
                var fullSelectedDate = $(this).val();
                var year = fullSelectedDate.split("-");
                var birthYear = parseInt(year[0]);
                //currentYear-birthYear
                if (birthYear > currentYear) {
                    alert("Age should not be less than 0");
                    return;

                } else {

                    var age = currentYear - birthYear;
                    $('#mem_' + memID + '_input').val(age);
                    if ($("#mem_" + memID + "_input").val() <= 18 && memID >= 3) {
                        $("#mem_" + memID + " img ").css({ 'transform': 'scale(0.7)', 'transition': 'all .2s ease-in-out' });
                    } else if ($("#mem_" + memID + "_input").val() >= 18 && memID >= 3) {
                        $("#mem_" + memID + " img ").css({ 'transform': 'scale(1)', 'transition': 'all .2s ease-in-out' });
                    }
                }
            })
        });
        //clear button
        function clearinfo() {

            $("#mem_" + memID + ' img').attr('src', 'images/mipmap-hdpi/user_unselected.png');
            $("#mem_" + memID + ' input').val("");
            $(".gender div").removeClass("Active")
			$('.age-box').hide();

        }

        //validation
        function chkDetails() {

            var Gender = $("#mem_" + memID + ' img').attr('src')
            var Age = $("#mem_" + memID + ' input').val();
            if (Gender == 'images/mipmap-hdpi/user_unselected.png') {

                alert("please select gender");
                return true;


            } else if (Age == "" || Age == "0") {

                alert("please specify Age");
                return true;

            } else if ($("#mem_" + memID + "_input").val() <= 18 && memID <= 2) {
                alert("Age should be greater than 18");
                return true;

            } else if ($("#mem_" + memID + "_input").val() >= 25 && memID >= 3) {
                alert("Age should be less than 25");
                return true;

            } else {
                $('.age-box').hide();
                return false;
            }


        }

    </script>

    <script>
        var myEditFunc = function () {
            var Srn = getUrlVars()["srn"];
            var maineditUrl = "quote/premium_list_db";
            var str1 =
                    {
                        "search_reference_number": Srn,
                        "secret_key": "SECRET-HZ07QRWY-JIBT-XRMQ-ZP95-J0RWP3DYRACW",
                        "client_key": "CLIENT-CNTP6NYE-CU9N-DUZW-CSPI-SH1IS4DOVHB9"
                    };
            var returnediturl = GeteditUrl() + '/' + maineditUrl;

            $.ajax({
                type: "POST",
                data: JSON.stringify(str1),
                url: returnediturl,
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {
                    console.log(data);
                    document.getElementById("Name").value = data['Summary']['Request_Core'].contact_name;
                    document.getElementById("Amount").value = data['Summary']['Request_Core'].health_insurance_si;
                    document.getElementById("Mobile").value = data['Summary']['Request_Core'].mobile;
                    document.getElementById("City").value = data['Summary']['Request_Core'].city_name;
                    document.getElementById("hdCity_ID").value = data['Summary']['Request_Core'].city_id;
                    document.getElementById("mem_1_input").value = data['Summary']['Request_Core'].member_1_age;
                    document.getElementById("mem_2_input").value = data['Summary']['Request_Core'].member_2_age;
                    document.getElementById("mem_3_input").value = data['Summary']['Request_Core'].member_3_age;
                    document.getElementById("mem_4_input").value = data['Summary']['Request_Core'].member_4_age;
                    document.getElementById("mem_5_input").value = data['Summary']['Request_Core'].member_5_age;
                    document.getElementById("mem_6_input").value = data['Summary']['Request_Core'].member_6_age;
                    document.getElementById("gen_1_input").value = data['Summary']['Request_Core'].member_1_gender;
                    document.getElementById("gen_2_input").value = data['Summary']['Request_Core'].member_2_gender;
                    document.getElementById("gen_3_input").value = data['Summary']['Request_Core'].member_3_gender;
                    document.getElementById("gen_4_input").value = data['Summary']['Request_Core'].member_4_gender;
                    document.getElementById("gen_5_input").value = data['Summary']['Request_Core'].member_5_gender;
                    document.getElementById("gen_6_input").value = data['Summary']['Request_Core'].member_6_gender;
                    setGender();
                    setInsuranceType(data['Summary']['Request_Core'].health_insurance_type);
                },
                error: function (result) {
                    //alert("Error");
                }
            });
            stringparam();

        }
        var getUrlVars = function () {
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for (var i = 0; i < hashes.length; i++) {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            return vars;
        }

        var GeteditUrl = function () {
            var url = window.location.href;
            //alert(url.includes("health"));
            var newurl;
            newurl = "http://qa-horizon.policyboss.com:3000";
            if (url.includes("localhost")) {
                newurl = "http://localhost:3000";
            } else if (url.includes("qa")) {
                newurl = "http://qa-horizon.policyboss.com:3000";
            } else if (url.includes("www") || url.includes("cloudfront")) {
                newurl = "http://horizon.policyboss.com:5000";
            }
            return newurl;
        }

        var setGender = function () {
            for (var i = 1; i <= 6; i++) {
                if ($("#gen_" + i + "_input").val() == "M") {
                    $("#mem_" + i + " img").attr("src", "images/mipmap-hdpi/men_selected.png");
                }
                else if ($("#gen_" + i + "_input").val() == "F") {
                    $("#mem_" + i + " img").attr("src", "images/mipmap-hdpi/women_selected.png");
                }
                else {
                    $("#mem_" + i + " img").attr("src", "images/mipmap-hdpi/user_unselected.png");
                }
				
				if($("#gen_" + i + "_input").val() != ""){
				debugger;
					$("#mem_" + i + "_input").removeAttr('disabled')
				}
            }
        }

        var setInsuranceType = function (type) {

            if (type == "floater") {
			debugger;
                $('#member_family').addClass("Active");
                $('#member_self').removeClass("Active");
				
            } else if (type == "individual") {
                $('#member_family').removeClass("Active");
                $('#member_self').addClass("Active");
            }

        }
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.metroui.org.ua/v4/js/metro.min.js"></script>
</body>
</html>